@page
@model E_Leraning_Application.Pages.Instructor.LearnersModel
@{
    ViewData["Title"] = "Enrolled Learners";
}

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" />

<style>
    body {
        background-color: #fff4e6;
        font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    h2 {
        color: #f7941d;
        font-weight: bold;
    }

    .table thead {
        background-color: #f7941d;
        color: white;
    }

    .table {
        background-color: white;
        border-radius: 8px;
        overflow: hidden;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.05);
    }

    .table-striped > tbody > tr:nth-of-type(odd) {
        background-color: #fdf2e9;
    }

    ul {
        padding-left: 1rem;
    }

    .alert {
        background-color: #ffe5cc;
        border-left: 5px solid #f7941d;
        color: #333;
    }
</style>

<div class="container py-4">
    <h2 class="text-center mb-4">👥 Enrolled Learners</h2>

    @if (Model.Learners != null && Model.Learners.Any())
    {
        <div class="table-responsive">
            <table class="table table-striped table-bordered">
                <thead>
                    <tr>
                        <th>Full Name</th>
                        <th>Email</th>
                        <th>Courses Enrolled</th>
                        <th>Course Count</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var learner in Model.Learners)
                    {
                        <tr>
                            <td>@learner.FullName</td>
                            <td>@learner.Email</td>
                            <td>
                                <ul class="mb-0">
                                    @foreach (var course in learner.CourseTitles)
                                    {
                                        <li>@course</li>
                                    }
                                </ul>
                            </td>
                            <td>@learner.CourseTitles.Count</td>
                        </tr>
                    }
                </tbody>
            </table>
        </div>
    }
    else
    {
        <div class="alert alert-info text-center">No learners have enrolled in your courses yet.</div>
    }
</div>
